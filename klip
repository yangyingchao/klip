#!/usr/bin/env python
# -*- coding: utf-8 -*-

from enum import Enum
from model import KlipModel
import argparse
import common


DESCRIPTION = '''
Utility to manage clippings from Kindle.'''


class UIMode(Enum):
    GUI = 0
    CMD = 2


DEFAULT_MODE = UIMode.GUI


parser = argparse.ArgumentParser(description=DESCRIPTION)
parser.add_argument('--gui', dest='ui', action='store_const',
                    const=UIMode.GUI, default=DEFAULT_MODE,
                    help='specify UI to use')
parser.add_argument('--cmd', dest='ui', action='store_const',
                    const=UIMode.CMD, default=DEFAULT_MODE,
                    help='specify UI to use')
parser.add_argument('--debug', dest='debug', action='store_true',
                    default=False,
                    help='turn on debug mode')


if __name__ == '__main__':

    m = KlipModel()
    args = parser.parse_args()

    if args.debug:
        common.debug_mode = True
    else:
        common.debug_mode = False

    if args.ui == UIMode.CMD:
        from cmd import startCMD
        startCMD(m)
    elif args.ui == UIMode.GUI:
        from gui import startGUI
        startGUI(m)
    else:
        print('oops.')
